No config path provided, using default 'drizzle.config.ts'
Reading config file '/app/drizzle.config.ts'
Using 'pg' driver for database querying
[i] No changes detected
[â£·] Pulling schema from database...
[â£¯] Pulling schema from database...
[â£Ÿ] Pulling schema from database...
[âœ“] Pulling schema from database...
npm warn config production Use `--omit=dev` instead.

> rest-express@1.0.0 start
> NODE_ENV=production node dist/index.js

node:internal/errors:496
    ErrorCaptureStackTrace(err);
    ^

TypeError [ERR_INVALID_ARG_TYPE]: The "paths[0]" argument must be of type string. Received undefined
    at new NodeError (node:internal/errors:405:5)
    at validateString (node:internal/validators:162:11)
    at Object.resolve (node:path:1097:7)
    at file:///app/dist/index.js:2002:17
    at ModuleJob.run (node:internal/modules/esm/module_job:195:25)
    at async ModuleLoader.import (node:internal/modules/esm/loader:337:24)
    at async loadESM (node:internal/process/esm_loader:34:7)
    at async handleMainPromise (node:internal/modules/run_main:106:12) {
  code: 'ERR_INVALID_ARG_TYPE'
}

Node.js v18.20.5

No config path provided, using default 'drizzle.config.ts'
Reading config file '/app/drizzle.config.ts'
npm warn config production Use `--omit=dev` instead.

> rest-express@1.0.0 db:push
> drizzle-kit push
Using 'pg' driver for database querying
[â£·] Pulling schema from database...
[â£¯] Pulling schema from database...
[â£Ÿ] Pulling schema from database...
[âœ“] Pulling schema from database...
[i] No changes detected
npm warn config production Use `--omit=dev` instead.

> rest-express@1.0.0 start
> NODE_ENV=production node dist/index.js

node:internal/errors:496
    ErrorCaptureStackTrace(err);
    ^

TypeError [ERR_INVALID_ARG_TYPE]: The "paths[0]" argument must be of type string. Received undefined
    at new NodeError (node:internal/errors:405:5)
    at validateString (node:internal/validators:162:11)
    at Object.resolve (node:path:1097:7)
    at file:///app/dist/index.js:2002:17
    at ModuleJob.run (node:internal/modules/esm/module_job:195:25)
    at async ModuleLoader.import (node:internal/modules/esm/loader:337:24)
    at async loadESM (node:internal/process/esm_loader:34:7)
    at async handleMainPromise (node:internal/modules/run_main:106:12) {
  code: 'ERR_INVALID_ARG_TYPE'
}

Node.js v18.20.5
Stopping Container
~/workspace$ railway logs
Starting Container
npm warn config production Use `--omit=dev` instead.

> rest-express@1.0.0 db:push
> drizzle-kit push

No config path provided, using default 'drizzle.config.ts'
Reading config file '/app/drizzle.config.ts'
Using 'pg' driver for database querying
[â£·] Pulling schema from database...
[â£¯] Pulling schema from database...
[â£Ÿ] Pulling schema from database...
[âœ“] Pulling schema from database...
[i] No changes detected
npm warn config production Use `--omit=dev` instead.
> NODE_ENV=production node dist/index.js


> rest-express@1.0.0 start
ğŸ”§ Starting server initialization...
ğŸ“ Environment: production
ğŸ—„ï¸  Database: Connected
ğŸ¥ Health endpoint registered at /health
âœ… PostgreSQL session store configured
Web push configured successfully
ğŸš€ HTTP server created successfully
ğŸ“¦ Serving static files...
ğŸŒ Starting server on :::8080...
5:29:02 AM [express] âœ… Server running on port 8080 (host: ::)
ğŸ¥ Health check available at http://localhost:8080/health
    _binaryType: 'arraybuffer',
    _closeCode: 1006,
    _closeFrameReceived: false,
âš ï¸  Failed to initialize default admin (will retry later): ErrorEvent {
    _closeFrameSent: false,
  [Symbol(kTarget)]: WebSocket {
    _closeMessage: <Buffer >,
    _events: [Object: null prototype] {
    _closeTimer: null,
      error: [Function],
    _errorEmitted: true,
      message: [Function],
      close: [Function],
    _extensions: {},
      open: [Function]
    _paused: false,
    },
    _protocol: '',
    _eventsCount: 4,
    _readyState: 3,
    _maxListeners: undefined,
    _receiver: null,
    _sender: null,
    _socket: null,
    _bufferedAmount: 0,
    _isServer: false,
    _redirects: 0,
    _autoPong: true,
    _url: 'wss://postgres.railway.internal/v2',
    _req: null,
    [Symbol(shapeMode)]: false,
    [Symbol(kCapture)]: false
  },
  [Symbol(kType)]: 'error',
  [Symbol(kError)]: AggregateError [ECONNREFUSED]: 
      at internalConnectMultiple (node:net:1122:18)
      at afterConnectMultiple (node:net:1689:7) {
    code: 'ECONNREFUSED',
    [errors]: [ [Error], [Error] ]
  },
  [Symbol(kMessage)]: ''
}
5:31:33 AM [express] GET /api/notifications 401 in 1ms :: {"message":"Authentication required"}
5:31:33 AM [express] GET /api/notifications/unread 401 in 1ms :: {"message":"Authentication requiredâ€¦
5:31:33 AM [express] GET /api/user 401 in 1ms :: {"message":"Authentication required"}
5:31:33 AM [express] GET /api/auth/users 500 in 26ms :: {"message":"Failed to get users"}
5:31:33 AM [express] GET /api/user 401 in 1ms :: {"message":"Authentication required"}
5:31:33 AM [express] GET /api/auth/users 500 in 6ms :: {"message":"Failed to get users"}
5:31:49 AM [express] GET /api/user 401 in 1ms :: {"message":"Authentication required"}
5:31:49 AM [express] GET /api/auth/users 500 in 26ms :: {"message":"Failed to get users"}
5:32:49 AM [express] GET /api/user 401 in 1ms :: {"message":"Authentication required"}
5:32:49 AM [express] GET /api/auth/users 500 in 24ms :: {"message":"Failed to get users"}
5:32:57 AM [express] GET /api/notifications 401 in 1ms :: {"message":"Authentication required"}
5:32:57 AM [express] GET /api/notifications/unread 401 in 1ms :: {"message":"Authentication requiredâ€¦
5:32:57 AM [express] GET /api/user 401 in 2ms :: {"message":"Authentication required"}
5:33:00 AM [express] GET /api/user 401 in 1ms :: {"message":"Authentication required"}
5:33:00 AM [express] GET /api/auth/users 500 in 24ms :: {"message":"Failed to get users"}
5:35:46 AM [express] GET /api/user 401 in 1ms :: {"message":"Authentication required"}
5:35:46 AM [express] GET /api/auth/users 500 in 27ms :: {"message":"Failed to get users"}
5:45:57 AM [express] GET /api/user 401 in 1ms :: {"message":"Authentication required"}
5:45:57 AM [express] GET /api/auth/users 500 in 24ms :: {"message":"Failed to get users"}